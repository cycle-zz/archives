<html>
	<head>
		<title>Branch - API Documentation</title>
		<link HREF="style.css" REL="stylesheet" TYPE="text/css">
	</head>
	<body>
		<div width="100%" height="40px" class="banner">
			Visualizer - API Documentation
		</div>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>RayTracer.h</h1><a href="RayTracer_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef DG_TRACER_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define DG_TRACER_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "<a class="code" href="DataTypes_8h.html">DataTypes.h</a>"</span>
00005 <span class="preprocessor">#include "<a class="code" href="Camera_8h.html">Camera.h</a>"</span>
00006 <span class="preprocessor">#include "<a class="code" href="Vector_8h.html">Vector.h</a>"</span>
00007 <span class="preprocessor">#include "<a class="code" href="Color_8h.html">Color.h</a>"</span>
00008 <span class="preprocessor">#include "<a class="code" href="Maths_8h.html">Maths.h</a>"</span>
00009 <span class="keyword">namespace </span>dg
00010 {
00011 
00012 <span class="comment">//******************************************************************************</span>
00013 
<a name="l00014"></a><a class="code" href="classdg_1_1RayTracer.html">00014</a> <span class="keyword">class </span><a class="code" href="classdg_1_1RayTracer.html">RayTracer</a>
00015 {
00016 
00017 <span class="keyword">public</span>:
<a name="l00018"></a><a class="code" href="classdg_1_1RayTracer.html#s0">00018</a>         <span class="keyword">typedef</span> <a class="code" href="namespacedg.html#a28">Real</a> (*<a class="code" href="classdg_1_1RayTracer.html#s0">Function</a>)(<a class="code" href="namespacedg.html#a28">Real</a> fX, <a class="code" href="namespacedg.html#a28">Real</a> fY, <a class="code" href="namespacedg.html#a28">Real</a> fZ);
00019 
00020         <a class="code" href="classdg_1_1RayTracer.html#a0">RayTracer</a>(<a class="code" href="classdg_1_1RayTracer.html#s0">Function</a> pvFunction=NULL, <a class="code" href="classdg_1_1Camera.html">Camera</a>* pkCamera=NULL);
00021         <a class="code" href="classdg_1_1RayTracer.html#a1">~RayTracer</a>();
00022 
00023         <span class="comment">// camera access methods</span>
00024         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a2">setCamera</a>(<a class="code" href="classdg_1_1Camera.html">Camera</a>* pkCamera);
00025         <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classdg_1_1Camera.html">Camera</a>* <a class="code" href="classdg_1_1RayTracer.html#a3">getCamera</a>() <span class="keyword">const</span>;
00026 
00027         <span class="comment">// function access methods</span>
00028         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a4">setFunction</a>(<a class="code" href="classdg_1_1RayTracer.html#s0">Function</a> pvFunction);
00029 
00030         <span class="comment">// light direction access methods (only single direction light supported!)</span>
00031         <span class="keyword">inline</span> <a class="code" href="classdg_1_1Vector.html">Vector</a> <a class="code" href="classdg_1_1RayTracer.html#a5">getLightDirection</a>() <span class="keyword">const</span>;
00032         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a6">setLightDirection</a>(<span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkLight);
00033 
00034         <span class="comment">// light color access methods (only single direction light supported!)</span>
00035         <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="classdg_1_1RayTracer.html#a7">getLightColor</a>() <span class="keyword">const</span>;
00036         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a8">setLightColor</a>(<span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkLight);
00037 
00038         <span class="comment">// normal epsilon access methods</span>
00039         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a9">setNormalEpsilon</a>(<a class="code" href="namespacedg.html#a28">Real</a> fEpsilon);
00040         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="classdg_1_1RayTracer.html#a10">getNormalEpsilon</a>() <span class="keyword">const</span>;
00041 
00042         <span class="comment">// ray epsilon access methods</span>
00043         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a11">setRayEpsilon</a>(<a class="code" href="namespacedg.html#a28">Real</a> fEpsilon);
00044         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="classdg_1_1RayTracer.html#a12">getRayEpsilon</a>() <span class="keyword">const</span>;
00045 
00046         <span class="comment">// iso level access methods</span>
00047         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a13">setIsoLevel</a>(<a class="code" href="namespacedg.html#a28">Real</a> fLevel);
00048         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="classdg_1_1RayTracer.html#a14">getIsoLevel</a>() <span class="keyword">const</span>;
00049 
00050         <span class="comment">// max samples access methods</span>
00051         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a15">setSamples</a>(<a class="code" href="namespacedg.html#a15">UInt</a> uiSamples);
00052         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a15">UInt</a> <a class="code" href="classdg_1_1RayTracer.html#a16">getSamples</a>() <span class="keyword">const</span>;
00053 
00054         <span class="comment">// statistics methods</span>
00055         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a15">UInt</a> <a class="code" href="classdg_1_1RayTracer.html#a17">getRayHits</a>() <span class="keyword">const</span>;
00056 
00057         <span class="comment">// enable/disable blur access methods</span>
00058         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a18">setBlur</a>(<span class="keywordtype">bool</span> bBlur);
00059         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classdg_1_1RayTracer.html#a19">getBlur</a>() <span class="keyword">const</span>;
00060 
00061         <span class="comment">// background color access methods</span>
00062         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a20">setBackground</a>(<span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkColor);
00063         <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="classdg_1_1RayTracer.html#a21">getBackground</a>() <span class="keyword">const</span>;
00064 
00065         <span class="comment">// surface properties</span>
00066         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="classdg_1_1RayTracer.html#a22">getAmbient</a>() <span class="keyword">const</span>;
00067         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a23">setAmbient</a>(<a class="code" href="namespacedg.html#a28">Real</a> fAmbient);
00068 
00069         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="classdg_1_1RayTracer.html#a24">getDiffuse</a>() <span class="keyword">const</span>;
00070         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a25">setDiffuse</a>(<a class="code" href="namespacedg.html#a28">Real</a> fDiffuse);
00071 
00072         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="classdg_1_1RayTracer.html#a26">getSpecular</a>() <span class="keyword">const</span>;
00073         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a27">setSpecular</a>(<a class="code" href="namespacedg.html#a28">Real</a> fSpecular);
00074 
00075         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="classdg_1_1RayTracer.html#a28">getRoughness</a>() <span class="keyword">const</span>;
00076         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a29">setRoughness</a>(<a class="code" href="namespacedg.html#a28">Real</a> fRoughness);
00077 
00078         <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="classdg_1_1RayTracer.html#a30">getBaseColor</a>() <span class="keyword">const</span>;
00079         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a31">setBaseColor</a>(<span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkBase);
00080 
00081         <span class="comment">// perform the scanline raytrace</span>
00082         <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a32">render</a>();
00083         <span class="keywordtype">void</span> <a class="code" href="classdg_1_1RayTracer.html#a32">render</a>(<a class="code" href="namespacedg.html#a15">UInt</a> uiStartLine, <a class="code" href="namespacedg.html#a15">UInt</a> uiEndLine);
00084 
00085 <span class="keyword">private</span>:
00086 
00087         <span class="comment">// integrate across surface</span>
00088         <span class="keywordtype">void</span> integrate( <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkPos, <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkRayDir,
00089                                         <a class="code" href="namespacedg.html#a28">Real</a> fIncrement, <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkColor);
00090 
00091         <span class="comment">// find intersection of ray with surface</span>
00092         <span class="keywordtype">void</span> computeIntersection(
00093                 <span class="keywordtype">float</span> fS0, <span class="keywordtype">float</span> fF0, <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkP0, <span class="keywordtype">float</span> fS1,
00094                 <span class="keywordtype">float</span> fF1, <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkP1, <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; kRayDir,
00095                 <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkPos, <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkNormal);
00096 
00097         <span class="comment">// normal evalution (samples given function multiple times with offset)</span>
00098         <a class="code" href="classdg_1_1Vector.html">Vector</a> computeNormal(<a class="code" href="namespacedg.html#a28">Real</a> fX, <a class="code" href="namespacedg.html#a28">Real</a> fY, <a class="code" href="namespacedg.html#a28">Real</a> fZ);
00099 
00100         <span class="comment">// sample the implicit function at the given position</span>
00101         <span class="keyword">inline</span> <a class="code" href="namespacedg.html#a28">Real</a> sample(<a class="code" href="namespacedg.html#a28">Real</a> fX, <a class="code" href="namespacedg.html#a28">Real</a> fY, <a class="code" href="namespacedg.html#a28">Real</a> fZ);
00102 
00103 
00104         <span class="comment">// light properties</span>
00105         <a class="code" href="classdg_1_1Vector.html">Vector</a> m_kLightDirection;
00106         <a class="code" href="classdg_1_1Color.html">Color</a> m_kLightColor;
00107 
00108         <span class="comment">// sampling properties</span>
00109         <a class="code" href="namespacedg.html#a28">Real</a> m_fIsoLevel;
00110         <a class="code" href="namespacedg.html#a28">Real</a> m_fRayEpsilon;
00111         <a class="code" href="namespacedg.html#a28">Real</a> m_fNormalEpsilon;
00112 
00113         <span class="comment">// material properties</span>
00114         <a class="code" href="classdg_1_1Color.html">Color</a> m_kBaseColor;
00115         <a class="code" href="classdg_1_1Color.html">Color</a> m_kBgColor;
00116 
00117         <a class="code" href="namespacedg.html#a28">Real</a> m_fAmbient;
00118         <a class="code" href="namespacedg.html#a28">Real</a> m_fDiffuse;
00119         <a class="code" href="namespacedg.html#a28">Real</a> m_fSpecular;
00120         <a class="code" href="namespacedg.html#a28">Real</a> m_fRoughness;
00121 
00122         <span class="comment">// enable blurring for fast anti-aliasing</span>
00123         <span class="keywordtype">bool</span> m_bBlur;
00124 
00125         <span class="comment">// max samples to evaluate</span>
00126         <a class="code" href="namespacedg.html#a15">UInt</a> m_uiSamples;
00127 
00128         <span class="comment">// sampling statistics</span>
00129         <a class="code" href="namespacedg.html#a15">UInt</a> m_uiRayHits;
00130 
00131         <span class="comment">// function to evaluate and visualize</span>
00132         <a class="code" href="classdg_1_1RayTracer.html#s0">Function</a> m_pvFunction;
00133 
00134         <span class="comment">// camera to render through</span>
00135         <a class="code" href="classdg_1_1Camera.html">Camera</a>* m_pkCamera;
00136 };
00137 
00138 <span class="comment">//******************************************************************************</span>
00139 
00140 <span class="preprocessor">#include "RayTracer.inc"</span>
<a name="l00141"></a><a class="code" href="classdg_1_1RayTracer.html#a5">00141</a> 
00142 <span class="comment">//******************************************************************************</span>
00143 
00144 } <span class="comment">// end namespace: dg</span>
00145 
<a name="l00146"></a><a class="code" href="classdg_1_1RayTracer.html#a6">00146</a> <span class="preprocessor">#endif</span>
00147 <span class="preprocessor"></span>
</pre></div>		<div class="footer" width="100%">
		<hr>
			<a href="http://lyon-smith.org/">&copy; Derek Gerstmann - NCCA - Bournemouth University - 2004</a>
		</div>
		<br>
	</body>
</html>
