<html>
	<head>
		<title>Branch - API Documentation</title>
		<link HREF="style.css" REL="stylesheet" TYPE="text/css">
	</head>
	<body>
		<div width="100%" height="40px" class="banner">
			Visualizer - API Documentation
		</div>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Shading.h</h1><a href="Shading_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef DG_SHADING_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define DG_SHADING_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "<a class="code" href="DataTypes_8h.html">DataTypes.h</a>"</span>
00005 <span class="preprocessor">#include "<a class="code" href="Vector_8h.html">Vector.h</a>"</span>
00006 <span class="preprocessor">#include "<a class="code" href="Color_8h.html">Color.h</a>"</span>
00007 <span class="preprocessor">#include "<a class="code" href="Maths_8h.html">Maths.h</a>"</span>
00008 <span class="preprocessor">#include "<a class="code" href="Set_8h.html">Set.h</a>"</span>
00009 
00010 <span class="keyword">namespace </span>dg
00011 {
00012 
00013 <span class="comment">// just a basic distant light</span>
<a name="l00014"></a><a class="code" href="structdg_1_1Light.html">00014</a> <span class="keyword">struct </span><a class="code" href="structdg_1_1Light.html">Light</a>
00015 {
<a name="l00016"></a><a class="code" href="structdg_1_1Light.html#m0">00016</a>         <a class="code" href="classdg_1_1Vector.html">Vector</a> <a class="code" href="structdg_1_1Light.html#m0">direction</a>;
<a name="l00017"></a><a class="code" href="structdg_1_1Light.html#m1">00017</a>         <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="structdg_1_1Light.html#m1">intensity</a>;
<a name="l00018"></a><a class="code" href="structdg_1_1Light.html#m2">00018</a>         <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="structdg_1_1Light.html#m2">color</a>;
00019 };
00020 
<a name="l00021"></a><a class="code" href="namespacedg.html#a60">00021</a> <span class="keyword">typedef</span> <a class="code" href="classdg_1_1Set.html">Set&lt;Light*&gt;</a> <a class="code" href="namespacedg.html#a60">LightSet</a>;
00022 
00023 
00024 <span class="comment">//******************************************************************************</span>
00025 
<a name="l00026"></a><a class="code" href="namespacedg.html#a172">00026</a> <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="namespacedg.html#a172">Ambient</a>(
00027         <span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkLightColor)
00028 {
00029         <span class="keywordflow">return</span> rkLightColor;
00030 }
00031 
<a name="l00032"></a><a class="code" href="namespacedg.html#a173">00032</a> <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="namespacedg.html#a173">Diffuse</a>(
00033         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkSurfaceNormal, 
00034         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkLightDir,
00035         <span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkLightColor)
00036 {
00037         <span class="comment">// only single light source contribution for now!</span>
00038         <span class="keywordflow">return</span> rkLightColor * <a class="code" href="namespacedg.html#a106">Max</a>( 0.0f, <a class="code" href="namespacedg.html#a182">Dot</a>(rkSurfaceNormal, rkLightDir) ); 
00039 }
00040 
<a name="l00041"></a><a class="code" href="namespacedg.html#a174">00041</a> <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="namespacedg.html#a174">Specular</a>(
00042         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkSurfaceNormal, 
00043         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkViewDir, 
00044         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkLightDir,
00045         <span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkLightColor,
00046         <a class="code" href="namespacedg.html#a28">Real</a> fRoughness)
00047 {
00048         <span class="comment">// only single light source contribution for now!</span>
00049         <a class="code" href="classdg_1_1Vector.html">Vector</a> kHalfway = <a class="code" href="namespacedg.html#a186">Normalize</a>( <a class="code" href="namespacedg.html#a186">Normalize</a>(rkViewDir) + <a class="code" href="namespacedg.html#a186">Normalize</a>(rkLightDir) );
00050         <span class="keywordflow">return</span> rkLightColor * <a class="code" href="namespacedg.html#a97">Pow</a>( <a class="code" href="namespacedg.html#a106">Max</a>( 0.0f, <a class="code" href="namespacedg.html#a182">Dot</a>(rkSurfaceNormal, kHalfway) ), 1.0/fRoughness); 
00051 }
00052 
00053 <span class="comment">// computes the color of a surface using a simple lambertian (matte) BRDF.</span>
<a name="l00054"></a><a class="code" href="namespacedg.html#a175">00054</a> <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="namespacedg.html#a175">Lambertian</a>(
00055         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkSurfaceNormal,
00056         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkLightDir,
00057         <span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkLightColor,
00058     <span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkBaseColor,
00059     <a class="code" href="namespacedg.html#a28">Real</a> fAmbient=1.0, <a class="code" href="namespacedg.html#a28">Real</a> fDiffuse=0.8)
00060 {
00061     <span class="keywordflow">return</span> rkBaseColor * (fAmbient * <a class="code" href="namespacedg.html#a172">Ambient</a>(rkLightColor) + 
00062                    fDiffuse * <a class="code" href="namespacedg.html#a173">Diffuse</a>(rkSurfaceNormal, rkLightDir, rkLightColor));
00063 }
00064 
00065 <span class="comment">// computes the color of a surface using a simple plastic-like BRDF.</span>
<a name="l00066"></a><a class="code" href="namespacedg.html#a176">00066</a> <span class="keyword">inline</span> <a class="code" href="classdg_1_1Color.html">Color</a> <a class="code" href="namespacedg.html#a176">Phong</a>(
00067         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkSurfaceNormal,
00068         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkViewDir,
00069         <span class="keyword">const</span> <a class="code" href="classdg_1_1Vector.html">Vector</a>&amp; rkLightDir,
00070         <span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkLightColor,
00071     <span class="keyword">const</span> <a class="code" href="classdg_1_1Color.html">Color</a>&amp; rkBaseColor,
00072     <a class="code" href="namespacedg.html#a28">Real</a> fAmbient=1.0, <a class="code" href="namespacedg.html#a28">Real</a> fDiffuse=0.8, 
00073         <a class="code" href="namespacedg.html#a28">Real</a> fSpecular=0.5, <a class="code" href="namespacedg.html#a28">Real</a> fRoughness=0.1)
00074 {
00075     <span class="keywordflow">return</span> rkBaseColor * (fAmbient * <a class="code" href="namespacedg.html#a172">Ambient</a>(rkLightColor) + 
00076                    fDiffuse * <a class="code" href="namespacedg.html#a173">Diffuse</a>(rkSurfaceNormal, rkLightDir, rkLightColor)) +
00077            fSpecular * <a class="code" href="namespacedg.html#a174">Specular</a>( rkSurfaceNormal, -<a class="code" href="namespacedg.html#a186">Normalize</a>( rkViewDir ), 
00078                                                                  rkLightDir, rkLightColor, fRoughness);
00079 }
00080 
00081 <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="namespacedg.html#a177">RaySphere</a>(
00082         <a class="code" href="namespacedg.html#a28">Real</a> fEX, <a class="code" href="namespacedg.html#a28">Real</a> fEY, <a class="code" href="namespacedg.html#a28">Real</a> fEZ, 
00083         <a class="code" href="namespacedg.html#a28">Real</a> fIX, <a class="code" href="namespacedg.html#a28">Real</a> fIY, <a class="code" href="namespacedg.html#a28">Real</a> fIZ,
00084     <a class="code" href="namespacedg.html#a28">Real</a> fRadius, <a class="code" href="namespacedg.html#a28">Real</a> fEpsilon,
00085         <a class="code" href="namespacedg.html#a28">Real</a>&amp; rfT0, <a class="code" href="namespacedg.html#a28">Real</a>&amp; rfT1);
00086 
00087 <a class="code" href="namespacedg.html#a28">Real</a> <a class="code" href="namespacedg.html#a177">RaySphere</a>(
00088         <span class="keyword">const</span> Vector&amp; rkPos, 
00089         <span class="keyword">const</span> Vector&amp; rkRayDir,
00090     <a class="code" href="namespacedg.html#a28">Real</a> fRadius, <a class="code" href="namespacedg.html#a28">Real</a> fEpsilon,
00091         <a class="code" href="namespacedg.html#a28">Real</a>&amp; rfT0, <a class="code" href="namespacedg.html#a28">Real</a>&amp; rfT1);
00092 
00093 <span class="comment">//******************************************************************************</span>
00094 
00095 <span class="keyword">inline</span> Vector <a class="code" href="namespacedg.html#a179">FaceForward</a>( 
00096         <span class="keyword">const</span> Vector&amp; rkN, 
00097         <span class="keyword">const</span> Vector&amp; rkI);
00098 
00099 <span class="keyword">inline</span> Vector <a class="code" href="namespacedg.html#a179">FaceForward</a>( 
00100         <span class="keyword">const</span> Vector&amp; rkN, 
00101         <span class="keyword">const</span> Vector&amp; rkI, 
00102         <span class="keyword">const</span> Vector&amp; rkRef);
00103         
00104 <span class="comment">//******************************************************************************</span>
00105 
00106 <span class="preprocessor">#include "Shading.inc"</span>
<a name="l00107"></a><a class="code" href="namespacedg.html#a179">00107</a> 
00108 <span class="comment">//******************************************************************************</span>
00109 
00110 } <span class="comment">// end namespace dg</span>
00111 
00112 <span class="comment">//******************************************************************************</span>
00113 
00114 <span class="preprocessor">#endif</span>
</pre></div>		<div class="footer" width="100%">
		<hr>
			<a href="http://lyon-smith.org/">&copy; Derek Gerstmann - NCCA - Bournemouth University - 2004</a>
		</div>
		<br>
	</body>
</html>
