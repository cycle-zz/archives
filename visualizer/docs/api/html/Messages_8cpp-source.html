<html>
	<head>
		<title>Branch - API Documentation</title>
		<link HREF="style.css" REL="stylesheet" TYPE="text/css">
	</head>
	<body>
		<div width="100%" height="40px" class="banner">
			Visualizer - API Documentation
		</div>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Messages.cpp</h1><a href="Messages_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">// #############################################################################</span>
00002 <span class="comment">// # Messages.cpp - Output functions for message handling</span>
00003 <span class="comment">// #</span>
00004 <span class="comment">// # Created    : May 2004</span>
00005 <span class="comment">// # Copyright  : (C) 2004 by Derek Gerstmann</span>
00006 <span class="comment">// # Email              : dgerstma@acm.org</span>
00007 <span class="comment">// #</span>
00008 <span class="comment">// #############################################################################</span>
00009 
00010 <span class="comment">// =============================================================================</span>
00011 <span class="comment">//</span>
00012 <span class="comment">//  This program is free software; you can redistribute it and/or modify</span>
00013 <span class="comment">//  it under the terms of the GNU General Public License as published by</span>
00014 <span class="comment">//  the Free Software Foundation; either version 2 of the License, or</span>
00015 <span class="comment">//  (at your option) any later version.</span>
00016 <span class="comment">//</span>
00017 <span class="comment">// =============================================================================</span>
00018 
00019 <span class="preprocessor">#include "<a class="code" href="Messages_8h.html">Messages.h</a>"</span>
00020 
00021 <span class="preprocessor">#include &lt;cstdio&gt;</span>
00022 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
00023 
00024 <span class="keyword">using</span> <span class="keyword">namespace </span>dg;
00025 
00026 <span class="comment">//******************************************************************************</span>
00027 <span class="keyword">static</span> <span class="keywordtype">void</span> ProcessError(
00028     <span class="keyword">const</span> <span class="keywordtype">char</span> * acFormat,
00029     va_list vArgs,
00030     <span class="keyword">const</span> <span class="keywordtype">char</span> * acMessage,
00031     <a class="code" href="namespacedg.html#a204">ErrorType</a> eErrorType )
00032 {
00033 
00034 <span class="preprocessor">#ifndef WIN32</span>
00035 <span class="preprocessor"></span>
00036         <span class="comment">// osx/unix/linux specific</span>
00037         <span class="keywordtype">char</span> * acErrorBuffer;
00038         vasprintf( &amp;acErrorBuffer, acFormat, vArgs );
00039 
00040 <span class="preprocessor">#else</span>
00041 <span class="preprocessor"></span>
00042         <span class="comment">// win32 specific</span>
00043         <span class="keywordtype">char</span> acErrorBuffer[ 2048 ];
00044         _vsnprintf( acErrorBuffer, <span class="keyword">sizeof</span>( acErrorBuffer ), acFormat, vArgs );
00045 
00046 <span class="preprocessor">#endif</span>
00047 <span class="preprocessor"></span>
00048         <span class="comment">// Report error</span>
00049         <span class="keywordflow">switch</span> ( eErrorType )
00050         {
00051                 <span class="keywordflow">case</span> <a class="code" href="namespacedg.html#a204a46">ERROR_IGNORE</a>:
00052                         <span class="keywordflow">return</span> ;
00053 
00054                 <span class="keywordflow">case</span> <a class="code" href="namespacedg.html#a204a47">ERROR_CONTINUE</a>:
00055                         fprintf( stderr, <span class="stringliteral">"%s %s\n"</span>, acMessage, acErrorBuffer );
00056                         <span class="keywordflow">break</span>;
00057                         
00058                 <span class="keywordflow">case</span> <a class="code" href="namespacedg.html#a204a48">ERROR_ABORT</a>:
00059                         fprintf( stderr, <span class="stringliteral">"%s %s\n"</span>, acMessage, acErrorBuffer );
00060                         exit( 1 );
00061         }
00062 
00063 <span class="preprocessor">#ifndef WIN32</span>
00064 <span class="preprocessor"></span>
00065         <span class="comment">// osx/unix/linux/etc specific</span>
00066         free( acErrorBuffer );
00067 
00068 <span class="preprocessor">#endif</span>
00069 <span class="preprocessor"></span>
00070 }
00071 <span class="comment">//******************************************************************************</span>
<a name="l00072"></a><a class="code" href="namespacedg.html#a121">00072</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacedg.html#a121">dg::Info</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * acFormat, ... )
00073 {
00074         va_list vArgs;
00075         va_start( vArgs, acFormat );
00076         ProcessError( acFormat, vArgs, <span class="stringliteral">""</span>, <a class="code" href="namespacedg.html#a204a47">ERROR_CONTINUE</a> );
00077         va_end( vArgs );
00078 }
00079 <span class="comment">//******************************************************************************</span>
<a name="l00080"></a><a class="code" href="namespacedg.html#a122">00080</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacedg.html#a122">dg::Notice</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * acFormat, ... )
00081 {
00082         va_list vArgs;
00083         va_start( vArgs, acFormat );
00084         ProcessError( acFormat, vArgs, <span class="stringliteral">"NOTICE:"</span>, <a class="code" href="namespacedg.html#a204a47">ERROR_CONTINUE</a> );
00085         va_end( vArgs );
00086 }
00087 <span class="comment">//******************************************************************************</span>
<a name="l00088"></a><a class="code" href="namespacedg.html#a123">00088</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacedg.html#a123">dg::Warning</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * acFormat, ... )
00089 {
00090         va_list vArgs;
00091         va_start( vArgs, acFormat );
00092         ProcessError( acFormat, vArgs, <span class="stringliteral">"WARNING:"</span>, <a class="code" href="namespacedg.html#a204a47">ERROR_CONTINUE</a> );
00093         va_end( vArgs );
00094 }
00095 <span class="comment">//******************************************************************************</span>
<a name="l00096"></a><a class="code" href="namespacedg.html#a124">00096</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacedg.html#a124">dg::Error</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * acFormat, ... )
00097 {
00098         va_list vArgs;
00099         va_start( vArgs, acFormat );
00100         ProcessError( acFormat, vArgs, <span class="stringliteral">"ERROR:"</span>, <a class="code" href="namespacedg.html#a204a47">ERROR_CONTINUE</a> );
00101         va_end( vArgs );
00102 }
00103 <span class="comment">//******************************************************************************</span>
<a name="l00104"></a><a class="code" href="namespacedg.html#a125">00104</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacedg.html#a125">dg::Severe</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * acFormat, ... )
00105 {
00106         va_list vArgs;
00107         va_start( vArgs, acFormat );
00108         ProcessError( acFormat, vArgs, <span class="stringliteral">"FATAL ERROR:"</span>, <a class="code" href="namespacedg.html#a204a48">ERROR_ABORT</a> );
00109         va_end( vArgs );
00110 }
00111 <span class="comment">//******************************************************************************</span>
00112 
</pre></div>		<div class="footer" width="100%">
		<hr>
			<a href="http://lyon-smith.org/">&copy; Derek Gerstmann - NCCA - Bournemouth University - 2004</a>
		</div>
		<br>
	</body>
</html>
