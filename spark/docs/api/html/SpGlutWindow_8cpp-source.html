<html>
	<head>
		<title>SPARK: Stream Processing Abstraction and Rendering Toolkit</title>
		<link HREF="style.css" REL="stylesheet" TYPE="text/css">
	</head>
	<body>
		<div width="100%" height="40px" class="banner">
			Spark API Documentation
		</div>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>SpGlutWindow.cpp</h1><a href="SpGlutWindow_8cpp.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="preprocessor">#include "<a class="code" href="SpWindow_8h.html">SpWindow.h</a>"</span>
00002 <span class="preprocessor">#include "<a class="code" href="SpGlHeaders_8h.html">SpGlHeaders.h</a>"</span>
00003 <span class="preprocessor">#include "<a class="code" href="SpGlutKeyBindings_8h.html">SpGlutKeyBindings.h</a>"</span>
00004 <span class="preprocessor">#include "<a class="code" href="SpGlutHeaders_8h.html">SpGlutHeaders.h</a>"</span>
00005 
00006 <span class="keyword">using</span> <span class="keyword">namespace </span>Spark;
00007 
00008 <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> gs_uiGLUTModifiers = 0;
00009 <span class="comment">//----------------------------------------------------------------------------</span>
00010 <span class="keyword">static</span> <span class="keywordtype">void</span> ReshapeCallback(<span class="keywordtype">int</span> iWidth, <span class="keywordtype">int</span> iHeight)
00011 {
00012     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00013     <span class="keywordflow">if</span> ( pkWindow )
00014         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a5">onReshape</a>(iWidth, iHeight);
00015 }
00016 <span class="comment">//----------------------------------------------------------------------------</span>
00017 <span class="keyword">static</span> <span class="keywordtype">void</span> DisplayCallback()
00018 {
00019     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00020     <span class="keywordflow">if</span> ( pkWindow )
00021         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a7">onDisplay</a>();
00022 }
00023 <span class="comment">//----------------------------------------------------------------------------</span>
00024 <span class="keyword">static</span> <span class="keywordtype">void</span> IdleCallback()
00025 {
00026     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00027     <span class="keywordflow">if</span> ( pkWindow )
00028         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a15">onIdle</a>();
00029 }
00030 <span class="comment">//----------------------------------------------------------------------------</span>
00031 <span class="keyword">static</span> <span class="keywordtype">void</span> UpdateCallback( <span class="keywordtype">int</span> iValue )
00032 {
00033     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00034     <span class="keywordflow">if</span> ( pkWindow )
00035         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a6">onUpdate</a>( iValue );
00036 }
00037 <span class="comment">//----------------------------------------------------------------------------</span>
00038 <span class="keyword">static</span> <span class="keywordtype">void</span> KeyDownCallback(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ucKey, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00039 {
00040     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00041     <span class="keywordflow">if</span> ( pkWindow )
00042         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a8">onKeyDown</a>(ucKey, iX, iY);
00043 }
00044 <span class="comment">//----------------------------------------------------------------------------</span>
00045 <span class="keyword">static</span> <span class="keywordtype">void</span> KeyUpCallback(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ucKey, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00046 {
00047     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00048     <span class="keywordflow">if</span> ( pkWindow )
00049         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a9">onKeyUp</a>(ucKey, iX, iY);
00050 }
00051 <span class="comment">//----------------------------------------------------------------------------</span>
00052 <span class="keyword">static</span> <span class="keywordtype">void</span> SpecialKeyDownCallback(<span class="keywordtype">int</span> iKey, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00053 {
00054     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00055     <span class="keywordflow">if</span> ( pkWindow )
00056         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a10">onSpecialKeyDown</a>(iKey, iX, iY);
00057 }
00058 <span class="comment">//----------------------------------------------------------------------------</span>
00059 <span class="keyword">static</span> <span class="keywordtype">void</span> SpecialKeyUpCallback(<span class="keywordtype">int</span> iKey, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00060 {
00061     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00062     <span class="keywordflow">if</span> ( pkWindow )
00063         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a11">onSpecialKeyUp</a>(iKey, iX, iY);
00064 }
00065 <span class="comment">//----------------------------------------------------------------------------</span>
00066 <span class="keyword">static</span> <span class="keywordtype">void</span> MouseClickCallback(<span class="keywordtype">int</span> iButton, <span class="keywordtype">int</span> iState, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00067 {
00068     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00069     <span class="keywordflow">if</span> ( pkWindow )
00070     {
00071         <span class="keywordtype">int</span> iModifiers = glutGetModifiers();
00072         gs_uiGLUTModifiers = *(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*) &amp; iModifiers;
00073         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a14">onMouseClick</a>(iButton, iState, iX, iY, gs_uiGLUTModifiers);
00074     }
00075 }
00076 <span class="comment">//----------------------------------------------------------------------------</span>
00077 <span class="keyword">static</span> <span class="keywordtype">void</span> MotionCallback(<span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00078 {
00079     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00080     <span class="keywordflow">if</span> ( pkWindow )
00081         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a13">onMouseMotion</a>(iX, iY, gs_uiGLUTModifiers);
00082 }
00083 <span class="comment">//----------------------------------------------------------------------------</span>
00084 <span class="keyword">static</span> <span class="keywordtype">void</span> PassiveMotionCallback(<span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00085 {
00086     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00087     <span class="keywordflow">if</span> ( pkWindow )
00088         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a12">onPassiveMotion</a>(iX, iY);
00089 }
00090 <span class="comment">//----------------------------------------------------------------------------</span>
00091 <span class="keyword">static</span> <span class="keywordtype">void</span> Terminate()
00092 {
00093     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00094     <span class="keywordflow">if</span> ( pkWindow )
00095     {
00096         pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a3">onTerminate</a>();
00097         glutDestroyWindow(pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a32">id</a>());
00098         exit(0);
00099     }
00100 }
00101 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00102"></a><a class="code" href="classSpark_1_1SpWindow.html#a3">00102</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a3">SpWindow::onTerminate</a>()
00103 {
00104     <span class="comment">// EMPTY!</span>
00105 }
00106 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00107"></a><a class="code" href="classSpark_1_1SpWindow.html#a6">00107</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a6">SpWindow::onUpdate</a>( <span class="keywordtype">int</span> iValue )
00108 {
00109     <a class="code" href="classSpark_1_1SpWindow.html#a6">onUpdate</a>( iValue );
00110     <a class="code" href="classSpark_1_1SpWindow.html#a20">postRedisplay</a>();
00111 
00112     <span class="keywordflow">if</span>( iValue &gt; 0 )
00113         glutTimerFunc( 60, UpdateCallback, 1 );
00114 }
00115 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00116"></a><a class="code" href="classSpark_1_1SpWindow.html#a23">00116</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a23">SpWindow::makeCurrent</a>()
00117 {
00118     <a class="code" href="classSpark_1_1SpWindow.html#t0">ms_pkWindow</a> = <span class="keyword">this</span>;
00119     glutSetWindow( <span class="keywordtype">id</span>() );
00120 }
00121 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00122"></a><a class="code" href="classSpark_1_1SpWindow.html#a20">00122</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a20">SpWindow::postRedisplay</a>()
00123 {
00124     glutPostWindowRedisplay( <span class="keywordtype">id</span>() );
00125 }
00126 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00127"></a><a class="code" href="classSpark_1_1SpWindow.html#a21">00127</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a21">SpWindow::swapBuffers</a>()
00128 {
00129     glutSwapBuffers();
00130 }
00131 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00132"></a><a class="code" href="classSpark_1_1SpWindow.html#a18">00132</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a18">SpWindow::drawString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pcString, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY, <span class="keyword">const</span> <a class="code" href="classSpark_1_1SpTuple4.html">SpColor4f</a>&amp; rkColor)
00133 {
00134     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiLen, i;
00135     glPushAttrib(GL_LIGHTING_BIT);
00136     glDisable(GL_LIGHTING);
00137 
00138     glRasterPos2f(iX, iY);
00139     glColor4f( rkColor.<a class="code" href="classSpark_1_1SpTuple4.html#a10">r</a>(), rkColor.<a class="code" href="classSpark_1_1SpTuple4.html#a12">g</a>(), rkColor.<a class="code" href="classSpark_1_1SpTuple4.html#a14">b</a>(), rkColor.<a class="code" href="classSpark_1_1SpTuple4.html#a16">a</a>() );
00140     uiLen = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) strlen(pcString);
00141     <span class="keywordflow">for</span> (i = 0; i &lt; uiLen; i++)
00142     {
00143         glutBitmapCharacter(GLUT_BITMAP_HELVETICA_10, pcString[i]);
00144     }
00145     glPopAttrib();
00146 }
00147 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00148"></a><a class="code" href="classSpark_1_1SpWindow.html#a16">00148</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a16">SpWindow::drawImage</a>(
00149     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* aucBuffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiPosX, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiPosY,
00150     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiWidth, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiHeight, <span class="keywordtype">bool</span> bAlpha)
00151 {
00152     <span class="keywordflow">if</span> ( !aucBuffer )
00153         <span class="keywordflow">return</span>;
00154 
00155     <span class="comment">// disable everything that isnt needed for drawing the image</span>
00156     GLboolean bDepthTest = glIsEnabled(GL_DEPTH_TEST);
00157     GLboolean bLighting = glIsEnabled(GL_LIGHTING);
00158     GLboolean bTexture2D = glIsEnabled(GL_TEXTURE_2D);
00159     <span class="keywordflow">if</span> ( bDepthTest )
00160         glDisable(GL_DEPTH_TEST);
00161     <span class="keywordflow">if</span> ( bLighting )
00162         glDisable(GL_LIGHTING);
00163     <span class="keywordflow">if</span> ( bTexture2D )
00164         glDisable(GL_TEXTURE_2D);
00165 
00166     <span class="comment">// clear out the model and projection matrices</span>
00167     glMatrixMode(GL_MODELVIEW);
00168     glPushMatrix();
00169     glLoadIdentity();
00170     glMatrixMode(GL_PROJECTION);
00171     glPushMatrix();
00172     glLoadIdentity();
00173 
00174     <span class="comment">// create an ortho projection</span>
00175     glOrtho(0.0,(<span class="keywordtype">double</span>)<a class="code" href="classSpark_1_1SpWindow.html#p14">m_iWidth</a>,0.0,(<span class="keywordtype">double</span>)<a class="code" href="classSpark_1_1SpWindow.html#p15">m_iHeight</a>,0.0,1.0);
00176 
00177     <span class="comment">// set the raster position</span>
00178     glRasterPos3f(uiPosX, uiPosY, 0.0f);
00179 
00180     <span class="comment">// draw a blank image to correct for strange screen glitches</span>
00181     GLubyte aucBitmap[1] = {0};
00182     glBitmap(0,0,0.0f,0.0f,0.0f,(<span class="keywordtype">float</span>)m_iHeight,aucBitmap);
00183     glPopMatrix();
00184     glMatrixMode(GL_MODELVIEW);
00185     glPopMatrix();
00186 
00187     <span class="comment">// flip the image to account for opengl's origin being at bottom left</span>
00188     glPixelZoom(1.0f,-1.0f);
00189 
00190     <span class="comment">// draw the image</span>
00191     <span class="keywordflow">if</span>(bAlpha)
00192         glDrawPixels((GLint)uiWidth,(GLint)uiHeight,GL_RGBA, GL_UNSIGNED_BYTE,
00193             (<span class="keyword">const</span> GLvoid*)aucBuffer);
00194     <span class="keywordflow">else</span>
00195         glDrawPixels((GLint)uiWidth,(GLint)uiHeight,GL_RGB, GL_UNSIGNED_BYTE,
00196             (<span class="keyword">const</span> GLvoid*)aucBuffer);
00197 
00198     <span class="comment">// reset the pixel zoom</span>
00199     glPixelZoom(1.0f,1.0f);
00200 
00201     <span class="comment">// reenable states</span>
00202     <span class="keywordflow">if</span> ( bDepthTest )
00203         glEnable(GL_DEPTH_TEST);
00204     <span class="keywordflow">if</span> ( bLighting )
00205         glEnable(GL_LIGHTING);
00206     <span class="keywordflow">if</span> ( bTexture2D )
00207         glEnable(GL_TEXTURE_2D);
00208 }
00209 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00210"></a><a class="code" href="classSpark_1_1SpWindow.html#a17">00210</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a16">SpWindow::drawImage</a>(
00211     <span class="keyword">const</span> <span class="keywordtype">float</span>* afBuffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiPosX, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiPosY,
00212     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiWidth, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiHeight, <span class="keywordtype">bool</span> bAlpha)
00213 {
00214     <span class="keywordflow">if</span> ( !afBuffer )
00215         <span class="keywordflow">return</span>;
00216 
00217     <span class="comment">// disable everything that isnt needed for drawing the image</span>
00218     GLboolean bDepthTest = glIsEnabled(GL_DEPTH_TEST);
00219     GLboolean bLighting = glIsEnabled(GL_LIGHTING);
00220     GLboolean bTexture2D = glIsEnabled(GL_TEXTURE_2D);
00221     <span class="keywordflow">if</span> ( bDepthTest )
00222         glDisable(GL_DEPTH_TEST);
00223     <span class="keywordflow">if</span> ( bLighting )
00224         glDisable(GL_LIGHTING);
00225     <span class="keywordflow">if</span> ( bTexture2D )
00226         glDisable(GL_TEXTURE_2D);
00227 
00228     <span class="comment">// clear out the model and projection matrices</span>
00229     glMatrixMode(GL_MODELVIEW);
00230     glPushMatrix();
00231     glLoadIdentity();
00232     glMatrixMode(GL_PROJECTION);
00233     glPushMatrix();
00234     glLoadIdentity();
00235 
00236     <span class="comment">// create an ortho projection</span>
00237     glOrtho(0.0,(<span class="keywordtype">double</span>)<a class="code" href="classSpark_1_1SpWindow.html#p14">m_iWidth</a>,0.0,(<span class="keywordtype">double</span>)<a class="code" href="classSpark_1_1SpWindow.html#p15">m_iHeight</a>,0.0,1.0);
00238 
00239     <span class="comment">// set the raster position</span>
00240     glRasterPos3f(uiPosX, uiPosY, 0.0);
00241 
00242     <span class="comment">// draw a blank bitmap to correct for strange screen glitches</span>
00243     GLubyte aucBitmap[1] = {0};
00244     glBitmap(0,0,0.0f,0.0f,0.0f,(<span class="keywordtype">float</span>)m_iHeight,aucBitmap);
00245     glPopMatrix();
00246     glMatrixMode(GL_MODELVIEW);
00247     glPopMatrix();
00248 
00249     <span class="comment">// flip the image to account for opengl's origin being at bottom left</span>
00250     glPixelZoom(1.0f,-1.0f);
00251 
00252     <span class="comment">// draw the image</span>
00253     <span class="keywordflow">if</span>(bAlpha)
00254         glDrawPixels((GLint)uiWidth,(GLint)uiHeight,GL_RGBA, GL_FLOAT,
00255             (<span class="keyword">const</span> GLvoid*)afBuffer);
00256     <span class="keywordflow">else</span>
00257         glDrawPixels((GLint)uiWidth,(GLint)uiHeight,GL_RGB, GL_FLOAT,
00258             (<span class="keyword">const</span> GLvoid*)afBuffer);
00259 
00260     <span class="comment">// reset the pixel zoom</span>
00261     glPixelZoom(1.0f,1.0f);
00262 
00263     <span class="comment">// reenable states</span>
00264     <span class="keywordflow">if</span> ( bDepthTest )
00265         glEnable(GL_DEPTH_TEST);
00266     <span class="keywordflow">if</span> ( bLighting )
00267         glEnable(GL_LIGHTING);
00268     <span class="keywordflow">if</span> ( bTexture2D )
00269         glEnable(GL_TEXTURE_2D);
00270 }
00271 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00272"></a><a class="code" href="SpGlutWindow_8cpp.html#a13">00272</a> <span class="keywordtype">int</span> <a class="code" href="SpGlutWindow_8cpp.html#a13">main</a> (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)
00273 {
00274     <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* pkWindow = <a class="code" href="classSpark_1_1SpWindow.html#e0">SpWindow::current</a>();
00275     assert( pkWindow );
00276     <span class="keywordflow">if</span> ( !pkWindow )
00277         <span class="keywordflow">return</span> -1;
00278 
00279 <span class="comment">//  if ( atexit(Terminate) != 0 )</span>
00280 <span class="comment">//      return -2;</span>
00281 
00282     glutInit(&amp;argc, argv);
00283 
00284     <span class="keywordflow">if</span> ( !pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a1">onStartup</a>() )
00285         <span class="keywordflow">return</span> -3;
00286 
00287     glutInitDisplayMode(GLUT_RGB | GLUT_DEPTH | GLUT_DOUBLE);
00288     glutInitWindowSize( pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a27">width</a>(), pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a28">height</a>() );
00289     pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a31">setWindowId</a>( glutCreateWindow(pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a24">title</a>()) );
00290     glutSetWindow( pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a32">id</a>() );
00291 
00292     GLenum err = glewInit();
00293     <span class="keywordflow">if</span> (GLEW_OK != err)
00294         fprintf(stderr, <span class="stringliteral">"OpenGL Extension Error: %s\n"</span>, glewGetErrorString(err));
00295 
00296     ReshapeCallback(pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a27">width</a>(), pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a28">height</a>());
00297     glutReshapeFunc(ReshapeCallback);
00298     glutDisplayFunc(DisplayCallback);
00299     glutIdleFunc(IdleCallback);
00300     <span class="comment">//glutTimerFunc(60, UpdateCallback, 1);</span>
00301     glutKeyboardFunc(KeyDownCallback);
00302     glutKeyboardUpFunc(KeyUpCallback);
00303     glutSpecialFunc(SpecialKeyDownCallback);
00304     glutSpecialUpFunc(SpecialKeyUpCallback);
00305     glutMouseFunc(MouseClickCallback);
00306     glutMotionFunc(MotionCallback);
00307     glutPassiveMotionFunc(PassiveMotionCallback);
00308     <span class="comment">//pkWindow-&gt;onDisplay();</span>
00309 
00310     <span class="keywordflow">if</span> ( !pkWindow-&gt;<a class="code" href="classSpark_1_1SpWindow.html#a2">onInitialize</a>() )
00311         <span class="keywordflow">return</span> -4;
00312 
00313     glutMainLoop();
00314     <span class="keywordflow">return</span> 0;
00315 }
00316 <span class="comment">//----------------------------------------------------------------------------</span>
00317 
00318 <span class="comment">//#endif</span>
00319 
</div></pre>		<div class="footer" width="100%">
		<hr>
			<a href="http://lyon-smith.org/">&copy; Derek Gerstmann - NCCA - Bournemouth University - 2004</a>
		</div>
		<br>
	</body>
</html>
