<html>
	<head>
		<title>SPARK: Stream Processing Abstraction and Rendering Toolkit</title>
		<link HREF="style.css" REL="stylesheet" TYPE="text/css">
	</head>
	<body>
		<div width="100%" height="40px" class="banner">
			Spark API Documentation
		</div>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>SpWindow.cpp</h1><a href="SpWindow_8cpp.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">//----------------------------------------------------------------------------</span>
00002 
00003 <span class="preprocessor">#include "<a class="code" href="SpWindow_8h.html">SpWindow.h</a>"</span>
00004 <span class="keyword">using</span> <span class="keyword">namespace </span>Spark;
00005 
<a name="l00006"></a><a class="code" href="classSpark_1_1SpWindow.html#t0">00006</a> <a class="code" href="classSpark_1_1SpWindow.html">SpWindow</a>* SpWindow::ms_pkWindow = NULL;
00007 
00008 <span class="comment">//******************************************************************************</span>
<a name="l00009"></a><a class="code" href="classSpark_1_1SpWindow.html#b0">00009</a> <a class="code" href="classSpark_1_1SpWindow.html#b0">SpWindow::SpWindow</a> (
00010     <span class="keywordtype">char</span>* acWindowTitle, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY,
00011     <span class="keywordtype">int</span> iWidth, <span class="keywordtype">int</span> iHeight, <span class="keyword">const</span> <a class="code" href="classSpark_1_1SpTuple4.html">SpColor4f</a>&amp; rkBgColor)
00012 {
00013     <a class="code" href="classSpark_1_1SpWindow.html#t0">ms_pkWindow</a> = <span class="keyword">this</span>;
00014     <a class="code" href="classSpark_1_1SpWindow.html#p10">m_acWindowTitle</a> = acWindowTitle;
00015     <a class="code" href="classSpark_1_1SpWindow.html#p12">m_iX</a> = iX;
00016     <a class="code" href="classSpark_1_1SpWindow.html#p13">m_iY</a> = iY;
00017     <a class="code" href="classSpark_1_1SpWindow.html#p7">m_iClicks</a> = 0;
00018     <a class="code" href="classSpark_1_1SpWindow.html#p14">m_iWidth</a> = iWidth;
00019     <a class="code" href="classSpark_1_1SpWindow.html#p15">m_iHeight</a> = iHeight;
00020     <a class="code" href="classSpark_1_1SpWindow.html#p16">m_kBgColor</a> = rkBgColor;
00021     <a class="code" href="classSpark_1_1SpWindow.html#p9">m_iMaxTimer</a> = 30;
00022     <a class="code" href="classSpark_1_1SpWindow.html#p8">m_iTimer</a> = <a class="code" href="classSpark_1_1SpWindow.html#p9">m_iMaxTimer</a>;
00023 }
00024 <span class="comment">//******************************************************************************</span>
<a name="l00025"></a><a class="code" href="classSpark_1_1SpWindow.html#a0">00025</a> <a class="code" href="classSpark_1_1SpWindow.html#a0">SpWindow::~SpWindow</a> ()
00026 {
00027     assert( <a class="code" href="classSpark_1_1SpWindow.html#t0">ms_pkWindow</a> != NULL );
00028     <a class="code" href="classSpark_1_1SpWindow.html#a3">onTerminate</a>();
00029     <a class="code" href="classSpark_1_1SpWindow.html#t0">ms_pkWindow</a> = NULL;
00030 }
00031 <span class="comment">//******************************************************************************</span>
<a name="l00032"></a><a class="code" href="classSpark_1_1SpWindow.html#a1">00032</a> <span class="keywordtype">bool</span> <a class="code" href="classSpark_1_1SpWindow.html#a1">SpWindow::onStartup</a>()
00033 {
00034     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00035 }
00036 <span class="comment">//******************************************************************************</span>
<a name="l00037"></a><a class="code" href="classSpark_1_1SpWindow.html#a2">00037</a> <span class="keywordtype">bool</span> <a class="code" href="classSpark_1_1SpWindow.html#a2">SpWindow::onInitialize</a>()
00038 {
00039     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00040 }
00041 <span class="comment">//******************************************************************************</span>
<a name="l00042"></a><a class="code" href="classSpark_1_1SpWindow.html#a4">00042</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a4">SpWindow::onMove</a>(<span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY)
00043 {
00044     <a class="code" href="classSpark_1_1SpWindow.html#p12">m_iX</a> = iX;
00045     <a class="code" href="classSpark_1_1SpWindow.html#p13">m_iY</a> = iY;
00046 }
00047 <span class="comment">//******************************************************************************</span>
<a name="l00048"></a><a class="code" href="classSpark_1_1SpWindow.html#a5">00048</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a5">SpWindow::onReshape</a>(<span class="keywordtype">int</span> iWidth, <span class="keywordtype">int</span> iHeight)
00049 {
00050     <a class="code" href="classSpark_1_1SpWindow.html#p14">m_iWidth</a> = iWidth;
00051     <a class="code" href="classSpark_1_1SpWindow.html#p15">m_iHeight</a> = iHeight;
00052 }
00053 <span class="comment">//******************************************************************************</span>
<a name="l00054"></a><a class="code" href="classSpark_1_1SpWindow.html#a7">00054</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a7">SpWindow::onDisplay</a>()
00055 {
00056     <span class="comment">// EMPTY!</span>
00057 }
00058 <span class="comment">//******************************************************************************</span>
<a name="l00059"></a><a class="code" href="classSpark_1_1SpWindow.html#a15">00059</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a15">SpWindow::onIdle</a>()
00060 {
00061     <a class="code" href="classSpark_1_1SpWindow.html#a6">onUpdate</a>( <a class="code" href="classSpark_1_1SpWindow.html#p17">m_kTimer</a>.<a class="code" href="classSpark_1_1SpTimer.html#a9">elapsedCount</a>() );
00062     <a class="code" href="classSpark_1_1SpWindow.html#a20">postRedisplay</a>();
00063 }
00064 <span class="comment">//******************************************************************************</span>
<a name="l00065"></a><a class="code" href="classSpark_1_1SpWindow.html#a8">00065</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a8">SpWindow::onKeyDown</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ucKey, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>)
00066 {
00067     <span class="comment">// quit SpWindow if the ESCAPE key is pressed</span>
00068     <span class="keywordflow">if</span> ( ucKey == <a class="code" href="classSpark_1_1SpWindow.html#s0">KEY_ESCAPE</a> )
00069         <a class="code" href="classSpark_1_1SpWindow.html#a3">onTerminate</a>();
00070 }
00071 <span class="comment">//******************************************************************************</span>
<a name="l00072"></a><a class="code" href="classSpark_1_1SpWindow.html#a9">00072</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a9">SpWindow::onKeyUp</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>)
00073 {
00074     <span class="comment">// EMPTY!</span>
00075 }
00076 <span class="comment">//******************************************************************************</span>
<a name="l00077"></a><a class="code" href="classSpark_1_1SpWindow.html#a10">00077</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a10">SpWindow::onSpecialKeyDown</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>)
00078 {
00079     <span class="comment">// EMPTY!</span>
00080 }
00081 <span class="comment">//******************************************************************************</span>
<a name="l00082"></a><a class="code" href="classSpark_1_1SpWindow.html#a11">00082</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a11">SpWindow::onSpecialKeyUp</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>)
00083 {
00084     <span class="comment">// EMPTY!</span>
00085 }
00086 <span class="comment">//******************************************************************************</span>
<a name="l00087"></a><a class="code" href="classSpark_1_1SpWindow.html#a14">00087</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a14">SpWindow::onMouseClick</a>(
00088     <span class="keywordtype">int</span> iButton, <span class="keywordtype">int</span>, <span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)
00089 {
00090     <a class="code" href="classSpark_1_1SpWindow.html#p1">m_bLeftMousePressed</a> = <span class="keyword">false</span>;
00091     <a class="code" href="classSpark_1_1SpWindow.html#p2">m_bRightMousePressed</a> = <span class="keyword">false</span>;
00092     <a class="code" href="classSpark_1_1SpWindow.html#p3">m_bMiddleMousePressed</a> = <span class="keyword">false</span>;
00093 
00094     <span class="keywordflow">switch</span>( iButton )
00095     {
00096         <span class="keywordflow">case</span>(0):
00097             <a class="code" href="classSpark_1_1SpWindow.html#p1">m_bLeftMousePressed</a> = <span class="keyword">true</span>;
00098             <span class="keywordflow">break</span>;
00099         <span class="keywordflow">case</span>(1):
00100             <a class="code" href="classSpark_1_1SpWindow.html#p3">m_bMiddleMousePressed</a> = <span class="keyword">true</span>;
00101             <span class="keywordflow">break</span>;
00102         <span class="keywordflow">case</span>(2):
00103             <a class="code" href="classSpark_1_1SpWindow.html#p2">m_bRightMousePressed</a> = <span class="keyword">true</span>;
00104             <span class="keywordflow">break</span>;
00105         <span class="keywordflow">default</span>:
00106             <a class="code" href="classSpark_1_1SpWindow.html#p1">m_bLeftMousePressed</a> = <span class="keyword">true</span>;
00107             <span class="keywordflow">break</span>;
00108     };
00109 
00110     <a class="code" href="classSpark_1_1SpWindow.html#p0">m_bMouseDown</a> = <span class="keyword">true</span>;
00111     <a class="code" href="classSpark_1_1SpWindow.html#p4">m_iLastMouseX</a> = iX;
00112     <a class="code" href="classSpark_1_1SpWindow.html#p5">m_iLastMouseY</a> = iY;
00113 }
00114 <span class="comment">//******************************************************************************</span>
<a name="l00115"></a><a class="code" href="classSpark_1_1SpWindow.html#a13">00115</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a13">SpWindow::onMouseMotion</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)
00116 {
00117     <span class="comment">// EMPTY!</span>
00118 }
00119 <span class="comment">//******************************************************************************</span>
<a name="l00120"></a><a class="code" href="classSpark_1_1SpWindow.html#a12">00120</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a12">SpWindow::onPassiveMotion</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>)
00121 {
00122     <span class="comment">// EMPTY!</span>
00123 }
00124 <span class="comment">//******************************************************************************</span>
<a name="l00125"></a><a class="code" href="classSpark_1_1SpWindow.html#a22">00125</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a22">SpWindow::updateClicks</a>()
00126 {
00127     <a class="code" href="classSpark_1_1SpWindow.html#p7">m_iClicks</a>++;
00128     <span class="keywordflow">if</span>(<a class="code" href="classSpark_1_1SpWindow.html#p7">m_iClicks</a> &gt; 999999)
00129         <a class="code" href="classSpark_1_1SpWindow.html#p7">m_iClicks</a> = 1;
00130 }
00131 <span class="comment">//******************************************************************************</span>
<a name="l00132"></a><a class="code" href="classSpark_1_1SpWindow.html#a19">00132</a> <span class="keywordtype">void</span> <a class="code" href="classSpark_1_1SpWindow.html#a19">SpWindow::drawFrameRate</a>(<span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY, <span class="keyword">const</span> <a class="code" href="classSpark_1_1SpTuple4.html">SpColor4f</a>&amp; rkColor)
00133 {
00134     <span class="keywordtype">float</span> fElapsed = 0;
00135     <span class="keywordflow">if</span> ( --<a class="code" href="classSpark_1_1SpWindow.html#p8">m_iTimer</a> == 0 )
00136     {
00137         fElapsed = (<span class="keywordtype">float</span>)<a class="code" href="classSpark_1_1SpWindow.html#p17">m_kTimer</a>.<a class="code" href="classSpark_1_1SpTimer.html#a12">elapsedSeconds</a>();
00138         <span class="keywordflow">if</span> ( fElapsed &gt; 0.0f )
00139             <a class="code" href="classSpark_1_1SpWindow.html#p6">m_fFrameRate</a> = <a class="code" href="classSpark_1_1SpWindow.html#p7">m_iClicks</a>/fElapsed;
00140         <span class="keywordflow">else</span>
00141             <a class="code" href="classSpark_1_1SpWindow.html#p6">m_fFrameRate</a> = 0.0f;
00142 
00143         <a class="code" href="classSpark_1_1SpWindow.html#p8">m_iTimer</a> = <a class="code" href="classSpark_1_1SpWindow.html#p9">m_iMaxTimer</a>;
00144         <a class="code" href="classSpark_1_1SpWindow.html#p7">m_iClicks</a> = 0;
00145     }
00146 
00147     <span class="keywordtype">char</span> acMessage[1024];
00148     sprintf(acMessage,<span class="stringliteral">"FrameRate: %.1lf fps"</span>,   (<span class="keywordtype">double</span>)<a class="code" href="classSpark_1_1SpWindow.html#p6">m_fFrameRate</a>);
00149     <a class="code" href="classSpark_1_1SpWindow.html#a18">drawString</a>(acMessage, iX, iY, rkColor);
00150 }
00151 <span class="comment">//******************************************************************************</span>
00152 
</div></pre>		<div class="footer" width="100%">
		<hr>
			<a href="http://lyon-smith.org/">&copy; Derek Gerstmann - NCCA - Bournemouth University - 2004</a>
		</div>
		<br>
	</body>
</html>
